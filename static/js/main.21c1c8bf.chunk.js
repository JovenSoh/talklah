(this.webpackJsonpTalkLah=this.webpackJsonpTalkLah||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var s=n(2),r=n.n(s),a=n(11),c=n.n(a),o=(n(23),n(3)),i=n(5),l=n(8),b=n(18),u=(n(24),n(1)),h=function(e){var t=e.messages,n=e.isLoading,r=Object(s.useRef)(null);return Object(s.useEffect)((function(){r.current.scrollIntoView({behavior:"smooth"})}),[t]),Object(u.jsxs)("div",{className:"chat-messages-container",children:[t.map((function(e,t){return Object(u.jsx)("div",{className:"p-4 ".concat("user"===e.sender?"text-right":"text-left"),children:Object(u.jsx)("span",{className:"inline-block py-2 px-4 rounded ".concat("user"===e.sender?"bg-blue-500 text-white":"bg-gray-200 text-black"),children:e.text})},t)})),n&&Object(u.jsx)("div",{className:"p-4 text-left",children:Object(u.jsxs)("span",{className:"inline-block py-2 px-4 rounded bg-gray-200 text-black",children:[Object(u.jsx)("span",{className:"dot dot-1",children:"."}),Object(u.jsx)("span",{className:"dot dot-2",children:"."}),Object(u.jsx)("span",{className:"dot dot-3",children:"."})]})}),Object(u.jsx)("div",{ref:r})]})},d=function(e){var t=e.onSubmit,n=Object(s.useState)(""),r=Object(o.a)(n,2),a=r[0],c=r[1];return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a.trim()&&(t(a),c(""))},className:"flex mb-4",children:[Object(u.jsx)("input",{type:"text",value:a,onChange:function(e){return c(e.target.value)},placeholder:"Type your message...",className:"flex-grow px-4 py-2 rounded-l bg-white border border-r-0 focus:border-blue-500 focus:outline-none",maxLength:"250"}),Object(u.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white font-bold rounded-r",children:"Send"})]})},j=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var n,s,r=arguments;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:[],e.prev=1,e.next=4,fetch("https://chatbot.irscybersec.ml/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:t,conversationHistory:n})});case 4:if((s=e.sent).ok){e.next=7;break}throw new Error("An error occurred while fetching the response");case 7:return e.next=9,s.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(1),console.error("Error fetching response:",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),p=n.p+"static/media/therapist1.f40b508b.png",m=n.p+"static/media/therapist2.9db06518.png",x=n.p+"static/media/therapist3.310757cf.png",f=n.p+"static/media/therapist4.a2a9322b.png",O=n(4),g=["Bishan","Marina","Sentosa","Kallang","Yishun","Jelutong","Pasir","Ubin","Serangoon","Jurong","Punggol","Hougang","Tampines","Woodlands","Clementi"],v=[p,m,x,f],w=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(s.useState)([]),c=Object(o.a)(a,2),p=c[0],m=c[1],x=Object(s.useState)(!1),f=Object(o.a)(x,2),w=f[0],y=f[1],N=Object(s.useState)(v[Math.floor(Math.random()*v.length)]),k=Object(o.a)(N,2),S=k[0],M=(k[1],Object(s.useState)(g[Math.floor(Math.random()*g.length)])),I=Object(o.a)(M,2),T=I[0],C=(I[1],function(e,t){r((function(n){return[].concat(Object(b.a)(n),[{text:e,sender:t}])}))}),E=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(t,"user"),m((function(e){return e.concat(t)})),y(!0),e.next=5,j(t,p);case 5:n=e.sent,y(!1),C(n,"bot"),m((function(e){return e.concat(n)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e="Hello! I am here to help you with stress and mental health concerns. How can I help you today?";C(e,"bot"),m((function(t){return t.concat(e)}))}),[]),Object(u.jsxs)("div",{className:"flex-auto bg-white w-11/12 sm:w-1/2 lg:w-1/3 xl:w-1/4 mx-auto my-10 p-6 shadow-lg rounded-lg",children:[Object(u.jsxs)("div",{className:"flex items-center mb-4",children:[Object(u.jsx)("img",{className:"w-12 h-12 rounded-full mr-4",src:S,alt:T}),Object(u.jsx)("h1",{className:"text-xl font-semibold",children:T})]}),Object(u.jsx)("div",{className:"min-h-[24rem] max-h-[24rem] overflow-y-auto bg-white rounded shadow mb-4",children:Object(u.jsx)(h,{messages:n,isLoading:w})}),Object(u.jsx)(d,{onSubmit:E}),Object(u.jsxs)("div",{className:"icons-container flex justify-center mt-4 mr-4 mb-6 space-x-30",children:[Object(u.jsx)("a",{href:"https://jovensoh.github.io",target:"_blank",rel:"noopener noreferrer",className:"",children:Object(u.jsx)(O.c,{size:24})}),Object(u.jsx)("a",{href:"https://github.com/jovensoh",target:"_blank",rel:"noopener noreferrer",className:"",children:Object(u.jsx)(O.b,{size:24})}),Object(u.jsx)("a",{href:"https://ko-fi.com/jovensoh",target:"_blank",rel:"noopener noreferrer",className:"",children:Object(u.jsx)(O.a,{size:24})})]})]})},y=n(12),N=n.n(y),k=n(17),S={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",maxWidth:"40rem",width:"90%",borderRadius:"10px",padding:"2rem",backgroundColor:"#fff",boxShadow:"0 0 10px rgba(0,0,0,0.3)",zIndex:9999}};N.a.setAppElement("#root");var M=function(e){var t=e.isOpen,n=e.closeModal;return Object(u.jsxs)(N.a,{isOpen:t,onRequestClose:n,style:S,contentLabel:"Information Modal",children:[Object(u.jsx)("div",{className:"flex justify-end",children:Object(u.jsx)("button",{className:"bg-transparent border-none text-gray-400 hover:text-gray-600 focus:outline-none",onClick:n,children:Object(u.jsx)(k.a,{})})}),Object(u.jsxs)("div",{className:"text-center py-4",children:[Object(u.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Welcome to SG Mental Health Chatbot"}),Object(u.jsxs)("p",{className:"mb-6",children:["This chatbot is not a substitute for professional mental health advice. If you need immediate assistance, please contact the Samaritans of Singapore hotline at 1800-221-4444 or visit their website ",Object(u.jsx)("a",{href:"https://www.sos.org.sg/",target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-600 hover:text-blue-800 visited:text-purple-600",children:" https://www.sos.org.sg/ "})]}),Object(u.jsx)("br",{}),Object(u.jsxs)("p",{className:"mb-6",children:["Your donations go towards maintaining our servers and keeping the chatbot running. If you would like to support us, please consider buying a",Object(u.jsxs)("a",{href:"https://ko-fi.com/jovensoh",target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-600 hover:text-blue-800 visited:text-purple-600",children:[" Ko-fi ",Object(u.jsx)(O.a,{size:24})," "]})]}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"All donations go directly to server costs and maintenance. Thank you for your support!"})]})]})};var I=function(){var e=Object(s.useState)(!0),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(u.jsxs)("div",{className:"App bg-blue-100 min-h-screen flex flex-col items-center justify-center",children:[Object(u.jsx)(w,{}),Object(u.jsx)(M,{isOpen:n,closeModal:function(){r(!1)}})]})};c.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.21c1c8bf.chunk.js.map